<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="utf-8" />
		<title>其他收货单</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="../../../css/bootstrap.min.css" />
		<link rel="stylesheet" href="../../../css/ace.min.css" />
		<link rel="stylesheet" href="../../../css/style.css" />
		<link rel="stylesheet" href="../../../css/style_i.css" />
		<link rel="stylesheet" href="../../../font/css/font-awesome.min.css" />
		<link rel="stylesheet" href="../../../js/layer/skin/layer.css" />
		<!--[if IE 7]>
		  <link rel="stylesheet" href="../../../font/css/font-awesome-ie7.min.css" />
		  <link rel="stylesheet" href="../../../css/ace-ie.min.css" />
		<![endif]-->

		<link rel="stylesheet" href="../../../css/mine/all.css" />
		<link rel="stylesheet" href="../../../css/mine/public.css" />

		<script src="../../../js/jquery-1.10.2.min.js"></script>
		<script src="../../../js/bootstrap.min.js"></script>
		<script src="../../../js/typeahead-bs2.min.js"></script>
		<script src="../../../js/jquery.dataTables.min.js"></script>
		<script src="../../../js/jquery.dataTables.bootstrap.js"></script>
		<script src="../../../js/layer/layer.js" type="text/javascript"></script>
		<script src="../../../js/laydate/laydate.js" type="text/javascript"></script>
		<script src="../../../script/public.js" type="text/javascript"></script>
		
		<link href="../../../js/jQuery-searchableSelect/jquery.searchableSelect.css" rel="stylesheet" type="text/css">
	    <script src="../../../js/jQuery-searchableSelect/jquery.searchableSelect.js"></script>
		<script src="../../../script/form.js" type="text/javascript"></script>
		<script src="../../../script/Bill.js" type="text/javascript"></script>
		<script src="../../../script/watermark.js" type="text/javascript"></script>
		<script src="../../../script/makeOrder.js" type="text/javascript"></script>
		<style type="text/css">
			#allgoodDivEdit .jl-panel{
				position:relative;
			}
			#detailDiv,#editDiv{
				margin: 50px auto;
			}
		</style>
		
	</head>

	<body class="content">
		<div class="page-content clearfix">
			<div id="Member_Ratings">
				<div class="d_Confirm_Order_style" style="margin-top:10px;">
					<h4 class="text-title">其他收货单</h4>
					<div class="search-div clearfix">
						<div class="clearfix">
							<span class="l_f"> 
							单号： <input type="text" value="" />
							</span>
							<span class="l_f"> 
								货品名称： <input type="text"  value="" />
							</span>

							<span class="r_f"> 
								<input type="button"  class="btncss btn_search" value="搜索" />
							</span>
						</div>

					</div>
					<div class="opration-div clearfix">
						<span class="r_f"> 
							<button type="button" class="btncss jl-btn-defult" onclick="otherInvoiceDel()"><i class="fa fa-trash"></i> 删除</button>
						</span>
						<span class="r_f"> 
							<button type="button" class="btncss jl-btn-defult" onclick="otherInvoiceAdd()"><i class="fa fa-plus"></i> 新增</button>
						</span>
						<span class="jl_f_l">
							<input type="checkbox" name="id" id="checkAll" style="margin:0 5px 0 0;" onclick="checkboxController(this)">
						</span>
						<span class="jl_f_l">
							<label for="checkAll">全选</label>
						</span>
					</div>
					<div class="table_menu_list">
						<table class="table table-striped table-hover col-xs-12" id="datatable">
							<thead class="table-header">
								<tr>
									<th>选择</th>
									<th>单号</th>
									<th>仓库</th>
									<th>货品名称</th>
									<th>货品编码</th>
									<th>业务数量</th>
									<th>业务金额</th>
									<th>制单人</th>
									<th>审核人</th>
									<th>日期</th>
									<th width="15%">操作</th>
								</tr>

							</thead>
							<tbody>
								<tr>
									<td>
										<input type="checkbox" name="id" onclick="checkboxClick('#checkAll')">
									</td>
									<td>
										<span class="look-span" onclick="otherInvoiceDetail()">PO.2017.09.00054</span>
									</td>
									<td>冷库</td>
									<td>AAA</td>
									<td>212454878</td>
									<td>154</td>
									<td>1254</td>
									<td>小辉</td>
									<td>小辉</td>
									<td>2017.10.02</td>
									<td>
										<input type="button" class="btncss edit" onclick="otherInvoiceModify()" value="编辑" />
										<input type="button" class="btncss edit" onclick="printing()" value="单据打印" />
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>

		<!--详情 -->
		<div id="detailDiv" style="display: none;">
			<form class="container">
				<div class="row jl-title">
					<span>基本信息</span>
				</div>
				<div id="headDetail">
					
				</div>
				<div class="row jl-title">
					<span>商品</span>
				</div>
				<div id="allgoodDivDetail">
					
				</div>
				<div class="row jl-title">
					<span>合计</span>
				</div>
				<div id="totalDetail">
				</div>
				<div class="row jl-title">
					<span>其他</span>
				</div>
				<div id="footerDetail">
				</div>

			</form>


		</div>
		
		<div id="editDiv" style="display: none;">
			<form class="container">
				<div class="row jl-title">
					<span>基本信息</span>
				</div>
				<div id="headEdit">
					
				</div>
				<div class="row jl-title">
					<span>商品</span>
					<b class="r_f" style="margin-top: 13px;">
						<button type="button" class="btncss jl-btn-importent" onclick="goodsAddEdit()">新增</button>
					</b>
				</div>
				<div id="allgoodDivEdit">
					
				</div>
				<div class="row jl-title">
					<span>合计</span>
				</div>
				<div id="totalEdit">
					
				</div>
				<div class="row jl-title">
					<span>其他</span>
				</div>
				<div id="footerEdit">
					
				</div>
			</form>
		</div>
		
		<!--打印-->
		<div id="printDiv" style="display: none;">
		</div>
		
	</body>

	<script>
		
		$(function(){
			ajaxJquery("GET","../../../json/otherReceipts.json",null,function(data){
				orderJson=data;
//				console.log(orderJson);
				$("#headEdit").html(panelEditGet("",orderJson.head));
				$("#totalEdit").html(panelEditGet("",orderJson.total));
				$("#footerEdit").html(panelEditGet("",orderJson.footer));
			})
			
			/*请在此处为添加页面中所有select赋值*/
		})
		
		/*新增*/
		function otherInvoiceAdd(){
			orderAdd(function(){
				/*请在此处添加layer点击【提交】按钮后的操作*/
				
			})
		}
		
		
		/*编辑*/
		function otherInvoiceModify(){
			OrderEdit(function(){
				/*请在此处添加layer打开前的对页面进行赋值的操作*/
				
				goodsAddEdit(); /*此方法为新增商品panel框的方法*/
				
			},function(){
				/*请在此处添加layer点击【提交】按钮后的操作*/
				
			})
		}
		
		/*详情*/
		function otherInvoiceDetail() {
			OrderDetail(function(){
				/*请在此处添加页面详情的基本字段进行赋值操作*/
				
				
				/*下面代码为为页面动态添加详情商品的panel，"detailGoodsDiv" + detailIndext为panel的id*/
				let detailIndext = 0;
				let $obj = panelDetailGet("detailGoodsDiv" + detailIndext, orderJson.goods);
				$("#allgoodDivDetail").append($obj);
				/*
				 * 请在此处根据panel的id，以及对应字段的class进行赋值
				 */
				
				
				detailIndext++;
			});
		}
		
		
		/*删除*/
		
		function otherInvoiceDel(){
			publicMessageLayer("删除所选单据", function() {
				/*请在此处添加删除操作*/
				
			})
		}
		
		
		/*单据打印*/
		function printing() {
			
			let count=2;//该订单打印的次数
			/*请在此获取打印订单的次数*/
			
			
			/*请修改此处url地址，注意type为get*/
			orderPrint("../../../json/fornData.json",count, function() {
				/*请在此处添加layer点击【提交】按钮后的操作*/
				
			})
		}
		
		
		/*为searchSelect赋值*/
		function goodsOptionAppend($select){
			console.log($select.html());
			/*请在此处对该货品名称字段对应的searchSelect添加option*/
			let json=[{"id":123,"name":"棉花糖"}]
			
			addOption($select,json);
		}
		
		
		
		
		
		
		
		
	</script>

</html>